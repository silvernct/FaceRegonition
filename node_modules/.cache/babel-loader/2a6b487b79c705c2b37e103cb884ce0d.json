{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar Utils_1 = require(\"../../../Utils/Utils\");\n\nvar ShapeType_1 = require(\"../../../Enums/ShapeType\");\n\nvar ImageDrawer = function () {\n  function ImageDrawer() {\n    this.images = [];\n  }\n\n  ImageDrawer.prototype.getImages = function (container) {\n    var containerImages = this.images.filter(function (t) {\n      return t.id == container.id;\n    });\n\n    if (!containerImages.length) {\n      this.images.push({\n        id: container.id,\n        images: []\n      });\n      return this.getImages(container);\n    } else {\n      return containerImages[0];\n    }\n  };\n\n  ImageDrawer.prototype.addImage = function (container, image) {\n    var containerImages = this.getImages(container);\n    containerImages === null || containerImages === void 0 ? void 0 : containerImages.images.push(image);\n  };\n\n  ImageDrawer.prototype.init = function (container) {\n    var _a;\n\n    return tslib_1.__awaiter(this, void 0, void 0, function () {\n      var options, shapeOptions, imageOptions, _i, imageOptions_1, optionsImage;\n\n      return tslib_1.__generator(this, function (_b) {\n        switch (_b.label) {\n          case 0:\n            options = container.options;\n            shapeOptions = options.particles.shape;\n\n            if (!Utils_1.Utils.isInArray(ShapeType_1.ShapeType.image, shapeOptions.type) && !Utils_1.Utils.isInArray(ShapeType_1.ShapeType.images, shapeOptions.type)) {\n              return [2];\n            }\n\n            imageOptions = (_a = shapeOptions.options[ShapeType_1.ShapeType.images]) !== null && _a !== void 0 ? _a : shapeOptions.options[ShapeType_1.ShapeType.image];\n            if (!(imageOptions instanceof Array)) return [3, 5];\n            _i = 0, imageOptions_1 = imageOptions;\n            _b.label = 1;\n\n          case 1:\n            if (!(_i < imageOptions_1.length)) return [3, 4];\n            optionsImage = imageOptions_1[_i];\n            return [4, this.loadImageShape(container, optionsImage)];\n\n          case 2:\n            _b.sent();\n\n            _b.label = 3;\n\n          case 3:\n            _i++;\n            return [3, 1];\n\n          case 4:\n            return [3, 7];\n\n          case 5:\n            return [4, this.loadImageShape(container, imageOptions)];\n\n          case 6:\n            _b.sent();\n\n            _b.label = 7;\n\n          case 7:\n            return [2];\n        }\n      });\n    });\n  };\n\n  ImageDrawer.prototype.destroy = function () {\n    this.images = [];\n  };\n\n  ImageDrawer.prototype.loadImageShape = function (container, imageShape) {\n    return tslib_1.__awaiter(this, void 0, void 0, function () {\n      var image, _a;\n\n      return tslib_1.__generator(this, function (_b) {\n        switch (_b.label) {\n          case 0:\n            _b.trys.push([0, 2,, 3]);\n\n            return [4, Utils_1.Utils.loadImage(imageShape.src)];\n\n          case 1:\n            image = _b.sent();\n            this.addImage(container, image);\n            return [3, 3];\n\n          case 2:\n            _a = _b.sent();\n            console.log(\"tsParticles error - \" + imageShape.src + \" not found\");\n            return [3, 3];\n\n          case 3:\n            return [2];\n        }\n      });\n    });\n  };\n\n  ImageDrawer.prototype.draw = function (context, particle, radius, opacity) {\n    var _a, _b;\n\n    if (!context) {\n      return;\n    }\n\n    var image = particle.image;\n    var element = (_a = image === null || image === void 0 ? void 0 : image.data) === null || _a === void 0 ? void 0 : _a.element;\n\n    if (!element) {\n      return;\n    }\n\n    var ratio = (_b = image === null || image === void 0 ? void 0 : image.ratio) !== null && _b !== void 0 ? _b : 1;\n    var pos = {\n      x: -radius,\n      y: -radius\n    };\n    context.globalAlpha = opacity;\n    context.drawImage(element, pos.x, pos.y, radius * 2, radius * 2 / ratio);\n    context.globalAlpha = 1;\n  };\n\n  return ImageDrawer;\n}();\n\nexports.ImageDrawer = ImageDrawer;","map":{"version":3,"sources":["/Users/silverngsmile/Desktop/fcb/node_modules/tsparticles/dist/Core/Particle/ShapeDrawers/ImageDrawer.js"],"names":["Object","defineProperty","exports","value","tslib_1","require","Utils_1","ShapeType_1","ImageDrawer","images","prototype","getImages","container","containerImages","filter","t","id","length","push","addImage","image","init","_a","__awaiter","options","shapeOptions","imageOptions","_i","imageOptions_1","optionsImage","__generator","_b","label","particles","shape","Utils","isInArray","ShapeType","type","Array","loadImageShape","sent","destroy","imageShape","trys","loadImage","src","console","log","draw","context","particle","radius","opacity","element","data","ratio","pos","x","y","globalAlpha","drawImage"],"mappings":"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","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar Utils_1 = require(\"../../../Utils/Utils\");\nvar ShapeType_1 = require(\"../../../Enums/ShapeType\");\nvar ImageDrawer = (function () {\n    function ImageDrawer() {\n        this.images = [];\n    }\n    ImageDrawer.prototype.getImages = function (container) {\n        var containerImages = this.images.filter(function (t) { return t.id == container.id; });\n        if (!containerImages.length) {\n            this.images.push({\n                id: container.id,\n                images: []\n            });\n            return this.getImages(container);\n        }\n        else {\n            return containerImages[0];\n        }\n    };\n    ImageDrawer.prototype.addImage = function (container, image) {\n        var containerImages = this.getImages(container);\n        containerImages === null || containerImages === void 0 ? void 0 : containerImages.images.push(image);\n    };\n    ImageDrawer.prototype.init = function (container) {\n        var _a;\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            var options, shapeOptions, imageOptions, _i, imageOptions_1, optionsImage;\n            return tslib_1.__generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        options = container.options;\n                        shapeOptions = options.particles.shape;\n                        if (!Utils_1.Utils.isInArray(ShapeType_1.ShapeType.image, shapeOptions.type) &&\n                            !Utils_1.Utils.isInArray(ShapeType_1.ShapeType.images, shapeOptions.type)) {\n                            return [2];\n                        }\n                        imageOptions = (_a = shapeOptions.options[ShapeType_1.ShapeType.images]) !== null && _a !== void 0 ? _a : shapeOptions.options[ShapeType_1.ShapeType.image];\n                        if (!(imageOptions instanceof Array)) return [3, 5];\n                        _i = 0, imageOptions_1 = imageOptions;\n                        _b.label = 1;\n                    case 1:\n                        if (!(_i < imageOptions_1.length)) return [3, 4];\n                        optionsImage = imageOptions_1[_i];\n                        return [4, this.loadImageShape(container, optionsImage)];\n                    case 2:\n                        _b.sent();\n                        _b.label = 3;\n                    case 3:\n                        _i++;\n                        return [3, 1];\n                    case 4: return [3, 7];\n                    case 5: return [4, this.loadImageShape(container, imageOptions)];\n                    case 6:\n                        _b.sent();\n                        _b.label = 7;\n                    case 7: return [2];\n                }\n            });\n        });\n    };\n    ImageDrawer.prototype.destroy = function () {\n        this.images = [];\n    };\n    ImageDrawer.prototype.loadImageShape = function (container, imageShape) {\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            var image, _a;\n            return tslib_1.__generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        _b.trys.push([0, 2, , 3]);\n                        return [4, Utils_1.Utils.loadImage(imageShape.src)];\n                    case 1:\n                        image = _b.sent();\n                        this.addImage(container, image);\n                        return [3, 3];\n                    case 2:\n                        _a = _b.sent();\n                        console.log(\"tsParticles error - \" + imageShape.src + \" not found\");\n                        return [3, 3];\n                    case 3: return [2];\n                }\n            });\n        });\n    };\n    ImageDrawer.prototype.draw = function (context, particle, radius, opacity) {\n        var _a, _b;\n        if (!context) {\n            return;\n        }\n        var image = particle.image;\n        var element = (_a = image === null || image === void 0 ? void 0 : image.data) === null || _a === void 0 ? void 0 : _a.element;\n        if (!element) {\n            return;\n        }\n        var ratio = (_b = image === null || image === void 0 ? void 0 : image.ratio) !== null && _b !== void 0 ? _b : 1;\n        var pos = {\n            x: -radius,\n            y: -radius\n        };\n        context.globalAlpha = opacity;\n        context.drawImage(element, pos.x, pos.y, radius * 2, radius * 2 / ratio);\n        context.globalAlpha = 1;\n    };\n    return ImageDrawer;\n}());\nexports.ImageDrawer = ImageDrawer;\n"]},"metadata":{},"sourceType":"script"}